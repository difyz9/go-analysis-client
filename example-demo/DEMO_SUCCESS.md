# ğŸ‰ Go Analysis Client æ¼”ç¤ºæˆåŠŸè¿è¡ŒæŠ¥å‘Š

## âœ… è¿è¡Œç»“æœ

æ¼”ç¤ºç¨‹åºå·²æˆåŠŸè¿è¡Œå¹¶å‘é€äº†æ‰€æœ‰äº‹ä»¶åˆ° go-analysis-serverï¼

### å‘é€çš„æ•°æ®ç»Ÿè®¡

- **äº§å“åç§°**: DemoApp
- **è®¾å¤‡ID**: `67e72c13-e684-5662-ad51-975df7b07f8d`
- **ä¼šè¯ID**: `7ad3e173-ab18-4cbd-8a20-b23954eae105`
- **æ€»äº‹ä»¶æ•°**: ~33 ä¸ªäº‹ä»¶
- **äº‹ä»¶æ‰¹æ¬¡**: 4 æ‰¹æ¬¡å‘é€

### å‘é€çš„äº‹ä»¶ç±»å‹

1. âœ… **å®‰è£…ä¿¡æ¯** - åŒ…å«å®Œæ•´è®¾å¤‡ä¿¡æ¯
2. âœ… **app_launch** - åº”ç”¨å¯åŠ¨äº‹ä»¶
3. âœ… **user_login** - ç”¨æˆ·ç™»å½•äº‹ä»¶
4. âœ… **page_view** (5æ¬¡) - é¡µé¢æµè§ˆäº‹ä»¶
5. âœ… **button_click** (5æ¬¡) - æŒ‰é’®ç‚¹å‡»äº‹ä»¶
6. âœ… **feature_use** (4æ¬¡) - åŠŸèƒ½ä½¿ç”¨äº‹ä»¶
7. âœ… **product_view** - å•†å“æµè§ˆ
8. âœ… **add_to_cart** - æ·»åŠ è´­ç‰©è½¦
9. âœ… **checkout_start** - å¼€å§‹ç»“è´¦
10. âœ… **purchase** - å®Œæˆè´­ä¹°
11. âœ… **error** - é”™è¯¯è¿½è¸ª
12. âœ… **performance** (3æ¬¡) - æ€§èƒ½æŒ‡æ ‡
13. âœ… **interaction** (5æ¬¡) - ç”¨æˆ·äº¤äº’
14. âœ… **subscription_activated** - è®¢é˜…æ¿€æ´»
15. âœ… **license_verified** - è®¸å¯è¯éªŒè¯
16. âœ… **app_exit** - åº”ç”¨é€€å‡º

## ğŸ“Š å¦‚ä½•æŸ¥çœ‹æ•°æ®

### æ–¹å¼ 1: å‰ç«¯ç•Œé¢ï¼ˆæœ€ä½³ä½“éªŒï¼‰

1. **å¯åŠ¨å‰ç«¯**ï¼ˆå¦‚æœè¿˜æ²¡å¯åŠ¨ï¼‰:
   ```bash
   cd /Users/apple/opt/difyz10/1018/go-analysis-frontend
   npm install
   npm run dev
   ```

2. **è®¿é—®å‰ç«¯**:
   æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:3000

3. **æŸ¥çœ‹å†…å®¹**:
   - ğŸ“ˆ **ä»ªè¡¨æ¿**: æ€»è§ˆç»Ÿè®¡æ•°æ®
   - ğŸ“‹ **äº‹ä»¶åˆ—è¡¨**: æŸ¥çœ‹æ‰€æœ‰ DemoApp çš„äº‹ä»¶
   - ğŸ’» **è®¾å¤‡ä¿¡æ¯**: æŸ¥çœ‹è®¾å¤‡è¯¦ç»†ä¿¡æ¯
   - ğŸ“Š **å›¾è¡¨åˆ†æ**: äº‹ä»¶è¶‹åŠ¿ã€ç±»å‹åˆ†å¸ƒç­‰
   - ğŸ” **ç­›é€‰åŠŸèƒ½**: æŒ‰äº§å“ã€äº‹ä»¶ç±»å‹ã€æ—¶é—´èŒƒå›´ç­›é€‰

### æ–¹å¼ 2: æ•°æ®åº“ç›´æ¥æŸ¥è¯¢

ä½¿ç”¨ PostgreSQL å®¢æˆ·ç«¯è¿æ¥æ•°æ®åº“:

```bash
# è¿æ¥ä¿¡æ¯ï¼ˆæ¥è‡ª config.tomlï¼‰
Host: 124.222.202.16
Port: 5432
Database: crypto_wallet
Username: postgres
Password: bJYnUfNUtSAs
```

**æŸ¥è¯¢ç¤ºä¾‹** (è§ queries.sql æ–‡ä»¶):

```sql
-- 1. æŸ¥çœ‹å®‰è£…ä¿¡æ¯
SELECT * FROM installs WHERE product = 'DemoApp';

-- 2. æŸ¥çœ‹æ‰€æœ‰äº‹ä»¶
SELECT * FROM events WHERE product = 'DemoApp' ORDER BY timestamp DESC;

-- 3. äº‹ä»¶ç»Ÿè®¡
SELECT name, COUNT(*) as count 
FROM events 
WHERE product = 'DemoApp' 
GROUP BY name 
ORDER BY count DESC;
```

### æ–¹å¼ 3: API æŸ¥è¯¢

ä½¿ç”¨ HTTP API ç›´æ¥æŸ¥è¯¢:

```bash
# 1. æŸ¥è¯¢äº‹ä»¶
curl "http://localhost:8097/api/events/query?product=DemoApp&limit=50"

# 2. æŸ¥è¯¢ç»Ÿè®¡ä¿¡æ¯
curl "http://localhost:8097/api/stats?product=DemoApp"

# 3. æŸ¥è¯¢å®‰è£…ä¿¡æ¯
curl "http://localhost:8097/api/installs/query?product=DemoApp"
```

## ğŸ“‹ åœ¨å‰ç«¯ä½ å°†çœ‹åˆ°çš„å†…å®¹

### 1. äº§å“æ¦‚è§ˆå¡ç‰‡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¯ DemoApp                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š æ€»äº‹ä»¶: 33                   â”‚
â”‚ ğŸ’» è®¾å¤‡æ•°: 1                    â”‚
â”‚ ğŸ‘¥ æ´»è·ƒç”¨æˆ·: 1                  â”‚
â”‚ ğŸ“… æœ€åæ´»åŠ¨: åˆšåˆš               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. äº‹ä»¶æ—¶é—´çº¿
```
ğŸš€ 15:49:02 - app_launch
   â””â”€ version: 1.0.0, build_number: 100

ğŸ‘¤ 15:49:02 - user_login
   â””â”€ method: email, success: true

ğŸ“„ 15:49:02 - page_view
   â””â”€ page: /home, duration: 28s

ğŸ–±ï¸ 15:49:03 - button_click
   â””â”€ button_name: submit, screen: main

... (æ›´å¤šäº‹ä»¶)

ğŸ›’ 15:49:08 - purchase
   â””â”€ amount: 99.99, currency: USD
```

### 3. è®¾å¤‡ä¿¡æ¯å¡ç‰‡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’» è®¾å¤‡ä¿¡æ¯                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ†” Device ID:                   â”‚
â”‚    67e72c13-e684-5662-ad51...   â”‚
â”‚                                 â”‚
â”‚ ğŸ–¥ï¸  æ“ä½œç³»ç»Ÿ: darwin            â”‚
â”‚ ğŸ“¦ å¹³å°: darwin                 â”‚
â”‚ ğŸ·ï¸  ä¸»æœºå: apple15             â”‚
â”‚ ğŸ”§ æ¶æ„: arm64                  â”‚
â”‚ â±ï¸  è¿è¡Œæ—¶é—´: [ç³»ç»Ÿè¿è¡Œæ—¶é—´]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. ç»Ÿè®¡å›¾è¡¨

**äº‹ä»¶ç±»å‹åˆ†å¸ƒï¼ˆé¥¼å›¾ï¼‰**:
- page_view: 5 æ¬¡
- button_click: 5 æ¬¡
- interaction: 5 æ¬¡
- feature_use: 4 æ¬¡
- performance: 3 æ¬¡
- ... (å…¶ä»–äº‹ä»¶)

**äº‹ä»¶è¶‹åŠ¿ï¼ˆæŠ˜çº¿å›¾ï¼‰**:
æ˜¾ç¤ºä» 15:49:02 åˆ° 15:49:15 çš„äº‹ä»¶åˆ†å¸ƒ

**çƒ­é—¨é¡µé¢ï¼ˆæŸ±çŠ¶å›¾ï¼‰**:
1. /home
2. /products
3. /about
4. /contact
5. /pricing

## ğŸ”„ å†æ¬¡è¿è¡Œæ¼”ç¤º

ä½ å¯ä»¥å¤šæ¬¡è¿è¡Œæ¼”ç¤ºç¨‹åºæ¥ç”Ÿæˆæ›´å¤šæ•°æ®:

```bash
cd /Users/apple/opt/difyz10/1018/go-analysis-client/example-demo
./run.sh
```

æ¯æ¬¡è¿è¡Œéƒ½ä¼š:
- ä½¿ç”¨ç›¸åŒçš„è®¾å¤‡IDï¼ˆç¨³å®šçš„è®¾å¤‡æ ‡è¯†ï¼‰
- ç”Ÿæˆæ–°çš„ä¼šè¯IDï¼ˆæ–°çš„ä½¿ç”¨ä¼šè¯ï¼‰
- å‘é€æ‰€æœ‰ç±»å‹çš„äº‹ä»¶
- ç´¯ç§¯åˆ°æ•°æ®åº“ä¸­

## ğŸ¨ è‡ªå®šä¹‰å’Œæ‰©å±•

### ä¿®æ”¹äº§å“åç§°

ç¼–è¾‘ `main.go` çš„ç¬¬ 15 è¡Œ:
```go
client := analytics.NewClient(
    "http://localhost:8097",
    "MyCustomApp", // æ”¹æˆä½ çš„äº§å“å
    ...
)
```

### æ·»åŠ è‡ªå®šä¹‰äº‹ä»¶

åœ¨ `main.go` ä¸­æ·»åŠ :
```go
client.Track("my_custom_event", map[string]interface{}{
    "custom_field": "custom_value",
    "number": 123,
    "boolean": true,
})
```

### å¯ç”¨åŠ å¯†ä¼ è¾“

æ·»åŠ åŠ å¯†é€‰é¡¹:
```go
client := analytics.NewClient(
    "http://localhost:8097",
    "DemoApp",
    analytics.WithDebug(true),
    analytics.WithEncryption("your-32-byte-secret-key-here!!"), // AES-256
)
```

ç„¶ååœ¨æœåŠ¡å™¨ `config.toml` ä¸­å¯ç”¨è§£å¯†:
```toml
[aes]
  enabled = true
  secret_key = "your-32-byte-secret-key-here!!"
  enable_decryption = true
```

## ğŸ“ˆ æ•°æ®åˆ†æå»ºè®®

åŸºäºæ”¶é›†çš„æ•°æ®ï¼Œä½ å¯ä»¥:

1. **ç”¨æˆ·è¡Œä¸ºåˆ†æ**
   - é¡µé¢è®¿é—®è·¯å¾„
   - åŠŸèƒ½ä½¿ç”¨é¢‘ç‡
   - æŒ‰é’®ç‚¹å‡»çƒ­åŠ›å›¾

2. **ç”µå•†åˆ†æ**
   - è½¬åŒ–æ¼æ–—: æµè§ˆ â†’ åŠ è´­ â†’ ç»“è´¦ â†’ è´­ä¹°
   - å¹³å‡è®¢å•é‡‘é¢
   - è´­ä¹°æˆåŠŸç‡

3. **æ€§èƒ½ç›‘æ§**
   - é¡µé¢åŠ è½½æ—¶é—´
   - API å“åº”æ—¶é—´
   - æ¸²æŸ“æ€§èƒ½

4. **é”™è¯¯è¿½è¸ª**
   - é”™è¯¯ç±»å‹åˆ†å¸ƒ
   - é”™è¯¯å‘ç”Ÿé¢‘ç‡
   - å—å½±å“çš„ç”¨æˆ·æ•°

5. **è®¾å¤‡åˆ†æ**
   - æ“ä½œç³»ç»Ÿåˆ†å¸ƒ
   - è®¾å¤‡å‹å·ç»Ÿè®¡
   - æ´»è·ƒè®¾å¤‡è¶‹åŠ¿

## ğŸš€ ä¸‹ä¸€æ­¥

1. âœ… **é›†æˆåˆ°ä½ çš„åº”ç”¨**: å‚è€ƒ [../README.md](../README.md)
2. âœ… **é…ç½®å‰ç«¯**: æŸ¥çœ‹ [../../go-analysis-frontend/README.md](../../go-analysis-frontend/README.md)
3. âœ… **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**: æŸ¥çœ‹æœåŠ¡å™¨éƒ¨ç½²æ–‡æ¡£
4. âœ… **è‡ªå®šä¹‰ä»ªè¡¨æ¿**: æ ¹æ®ä¸šåŠ¡éœ€æ±‚å®šåˆ¶å‰ç«¯å±•ç¤º

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜:
- ğŸ“– æŸ¥çœ‹æ–‡æ¡£: [../README.md](../README.md)
- ğŸ› æŠ¥å‘Š Bug: GitHub Issues
- ğŸ’¬ è®¨è®º: GitHub Discussions

---

**ç¥è´ºï¼ğŸ‰ ä½ å·²ç»æˆåŠŸè¿è¡Œäº†å®Œæ•´çš„åˆ†æç³»ç»Ÿï¼**
